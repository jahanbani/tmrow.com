<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#" lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="We want to help humanity reach a sustainable state of existence by quantifying, and making widely accessible, the impact of every choice we make" />
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="img/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta property="fb:admins" content="506562770"/>
    <meta property="og:description" content="We want to help humanity reach a sustainable state of existence by quantifying, and making widely accessible, the impact of every choice we make" />
    <meta property="og:url" content="http://www.tmrow.co" />
    <meta property="og:image" content="http://www.tmrow.co/img/tmrow-social.jpg" />
    <meta property="og:title" content="Tomorrow - Quantifying the impact of every choice we make" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="We want to help humanity reach a sustainable state of existence by quantifying, and making widely accessible, the impact of every choice we make" />
    <meta name="twitter:image" content="http://www.tmrow.co/img/tmrow-social.jpg">
    <meta name="twitter:site" content="@tmrowco">
    <meta name="twitter:title" content="Tomorrow - Quantifying the impact of every choice we make" />
    <link rel="apple-touch-icon" sizes="57x57" href="img/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="img/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="img/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="img/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="img/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="img/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="img/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="img/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="img/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="img/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon/favicon-16x16.png">
    <link rel="manifest" href="img/favicon/manifest.json">
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css?family=Lato:300,300i,400|Open+Sans:300,400|Radley:300,300i,300,400" rel="stylesheet">
    <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">    
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "url": "http://www.tmrow.co",
        "logo": "http://www.tmrow.co/img/logo_black.png",
        "sameAs": [
          "http://www.facebook.com/tmrowco",
          "http://www.twitter.com/tmrowco"
        ]
      }
    </script>
    <!--[if lt IE 9]>
      <script src="bower_components/html5shiv/dist/html5shiv.js"></script>
    <![endif]-->
    <title>Tomorrow - Quantifying the impact of every choice we make</title>
    <!-- start Mixpanel -->
    <script type="text/javascript">(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
    for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
    mixpanel.init("62254a092953432d14177a334646064c");
    if (window.location.href.indexOf('localhost') == -1) {
      mixpanel.track('pageview');
    }
  </script>
  <!-- end Mixpanel -->
  <!-- start GA -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    if (window.location.href.indexOf('localhost') == -1) {
      ga('create', 'UA-79729918-2', 'auto');
      ga('send', 'pageview');
    }
  </script>
  <!-- end GA -->
  </head>
  <body>
    <!-- start Twitter -->
    <script>
        window.twttr = (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0],
        t = window.twttr || {};
        if (d.getElementById(id)) return t;
        js = d.createElement(s);
        js.id = id;
        js.src = "https://platform.twitter.com/widgets.js";
        fjs.parentNode.insertBefore(js, fjs);

        t._e = [];
        t.ready = function(f) {
            t._e.push(f);
        };

        return t;
        }(document, "script", "twitter-wjs"));
    </script>
    <!-- end Twitter -->
    <!-- Load Facebook SDK for JavaScript -->
    <div id="fb-root"></div>
    <script>
      window.fbAsyncInit = function() {
          FB.init({
            appId      : '1821546271499223',
            xfbml      : true,
            version    : 'v2.8'
          });
          if(window.location.href.indexOf('localhost') == -1)
            FB.AppEvents.logPageView('pageview');
      };
      (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8";
        fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'facebook-jssdk'));
    </script>

    <script src="vendor/d3.min.js"></script>
    <script src="vendor/echarts.min.js"></script>
    <script>
      function initialOption() {
        return {
          title: { textStyle: { fontSize: 14 }, itemGap: 5 },
          xAxis: {},
          yAxis: {},
          grid: { bottom: 45 },
          tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'line'
            }
          }
        }
      }
      function initialDataZoom() {
        return [
          {
            type: 'slider',
            showDataShadow: false,
            height: 10,
            borderColor: 'transparent',
            backgroundColor: '#e2e2e2',
            handleIcon: 'M10.7,11.9H9.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z', // jshint ignore:line
            handleSize: 15,
            handleStyle: {
              shadowBlur: 6,
              shadowOffsetX: 1,
              shadowOffsetY: 2,
              shadowColor: '#aaa'
            },
          }
        ]
      }
    </script>

    <style>
      /* Override */
      .section-content {
        max-width: 800px !important;
      }
      h1 {
        margin-bottom: unset !important;
      }
      h1, h2 {
        margin-top: 2rem;
      }

      /* Prevent subscript from affecting line-height */
      sub {
        vertical-align: baseline;
        position: relative;
        top: 0.4em;
      }

      /* Graphs */
      .graph {
        width: 100%;
        box-sizing: border-box;
        /* center horizontally */
        margin-right: auto;
        margin-left: auto;
        padding-top: 1.5em;
        padding-bottom: 1.5em;
      }
      @media (min-width: 52em) {
        .graph {
          width: 70%;
        }
      }
      .chart {
        width: 100%;
        height: 350px;
      }
      .source {
        font-size: small;
      }

      /* Misc */
      .incomplete {
        background-color: orange;
        padding: 1em;
      }
    </style>

    <header>
      <div id="header-content">
        <a href="/" title="Tomorrow" class="logo">
          Tomorrow
        </a>
        <ul class="menu">
          <li class="email"><a href="mailto:hello@tmrow.com"><i class="fa fa-envelope" aria-hidden="true"></i>&nbsp;Contact</a></li>
          <li class="blog"><a href="https://medium.com/tmrow" target="_blank"><i class="fa fa-medium" aria-hidden="true"></i>&nbsp;Blog</a></li>
          <li class="products"><a href="/#products"><i class="fa fa-flask" aria-hidden="true"></i>&nbsp;Products</a></li>
          <li class="team"><a href="/#team"><i class="fa fa-users" aria-hidden="true"></i>&nbsp;Team</a></li>
          <li class="jobs"><a href="/#jobs"><i class="fa fa-handshake-o" aria-hidden="true"></i>&nbsp;Jobs</a></li>
          <li class="climate active"><a href="#"><i class="fa fa-globe" aria-hidden="true"></i>&nbsp;Climate Change</a></li>
        </ul>
      </div>
    </header>

    <section style="margin-top: 3em;">
      <div class="section-content">
        <h1>A pragmatic guide to Climate Change</h1>
        <p>
          This guide is a very short and pragmatic guide to what Climate Change is, what the drivers behind it are, and what we can do about it.
          If you see anything inconsistent, or would like to propose a change, feel free to edit the page on <a href="https://github.com/tmrowco/tmrow.com/blob/master/climatechange.html" target="_blank"><i class="fa fa-github"></i> github</a>.
        </p>

        <h1>Global temperatures are rapidly increasing</h1>
        <div>
          <p>
            "Warming of the climate system is unequivocal, and since the 1950s, many of the observed changes are unprecedented over decades to millennia", according to the Intergovernmental Panel on Climate Change (IPCC) in its <a href="http://www.ipcc.ch/pdf/assessment-report/ar5/syr/AR5_SYR_FINAL_SPM.pdf" target="_blank">fifth assessment</a>.
          </p>

          <div class="graph">
            <div class="chart" id="temperature_time_series_recent"></div>
            <div class="source">
              Source: <a href="https://climate.nasa.gov/vital-signs/global-temperature/" target="_blank">NASA's Goddard Institute for Space Studies (GISS)</a> (<a href="http://climate.nasa.gov/system/internal_resources/details/original/647_Global_Temperature_Data_File.txt" target="_blank">data</a>)
            </div>
          </div>

          <script>
            // Will be reused later
            function parseGiss(giss_obj) {
              return giss_obj
                  .split('\n')
                  .map(function(row, i) { return row.split('     ') })
                  .filter(function(row, i) { return +row[0]; })
            }

            (function() {
              var url = 'data/647_Global_Temperature_Data_File.txt';
              d3.text(url, function(err, giss_obj) {
                if (err) throw err;

                var giss_data = parseGiss(giss_obj);

                var option = initialOption();
                var xData = giss_data.map(function(d) { return +d[0] });
                var yData = giss_data.map(function(d) { return +d[1] });
                var xyData = giss_data.map(function(_, i) { return [xData[i], yData[i]] })

                option.xAxis.type = 'value';
                option.xAxis.min = d3.min(xData);
                // option.xAxis.min = 1950;
                option.xAxis.axisLabel = {
                  formatter: function(e) { return e.toString() }
                }

                option.xAxis.max = d3.max(xData);
                option.yAxis.min = -0.7;
                option.yAxis.max = 1.2;

                option.title.text = 'Temperature anomalies'
                option.title.subtext = '°C compared to 1951-1980 average';

                option.tooltip.formatter = function(e) {
                  var value = e[0].data[1];
                  var sign = value >= 0 ? '+' : '';
                  return e[0].marker + ' ' + sign + value + ' °C in ' + e[0].data[0];
                }

                option.series = [
                  {
                    name: 'nasa_giss_1y',
                    type: 'line',
                    showSymbol: false,
                    data: xyData,
                    areaStyle: {
                      normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: -1 * option.yAxis.min / option.yAxis.max - 0.2,
                            color: 'rgb(255, 64, 30)'
                        }, {
                            offset: 1,
                            color: 'rgb(180, 200, 255)'
                        }])
                      }
                    },
                  },
                  {
                    name: 'last',
                    type: 'effectScatter',
                    data: [xyData[xyData.length - 1]],
                    symbolSize: 10,
                  }
                ];

                var chart = echarts.init(document.getElementById('temperature_time_series_recent'))
                chart.setOption(option);
                window.addEventListener('resize', chart.resize);
              })
            })()
          </script>

          <p>
            Sixteen of the 17 warmest years have all occurred since 2001 (with the exception of 1998).
            Furthermore, NOAA reported in August 2016 that each of the last 16 months <a href="https://www.ncdc.noaa.gov/sotc/global/201607#temp" target="_blank">were the warmest they've ever measured</a>.
            The measured warming has been found to be consistent across <a href="https://data.giss.nasa.gov/gistemp/graphs/" target="_blank">seasons</a> and <a href="https://twitter.com/anttilip/status/891730388497965056" target="_blank">regions</a>.
          </p>

          <p>
            We have now achieved a temperature increased of 1&deg;C since the end of the 70s. A change of 1&deg;C in 50 years is unprecedented, as it can be seen from the following reconstruction of temperatures in the last 11 000 years:
          </p>

          <div class="graph">
            <div class="chart" id="temperature_time_series_OLD"></div>
            <div class="source">
              Source: <a href="http://science.sciencemag.org/content/339/6124/1198" target="_blank">A Reconstruction of Regional and Global Temperature for the Past 11,300 Years</a> (<a href="http://science.sciencemag.org/content/suppl/2013/03/07/339.6124.1198.DC1" target="_blank">data</a>) before 1880, <a href="https://climate.nasa.gov/vital-signs/global-temperature/" target="_blank">NASA's Goddard Institute for Space Studies (GISS)</a> (<a href="http://climate.nasa.gov/system/internal_resources/details/original/647_Global_Temperature_Data_File.txt" target="_blank">data</a>) after 1880
            </div>
          </div>

          <script>
            (function() {
              var marcott_url = 'data/marcott2013.csv';
              var giss_url = 'data/647_Global_Temperature_Data_File.txt';

              d3.queue()
                .defer(d3.text, marcott_url)
                .defer(d3.text, giss_url)
                .await(function(err, marcott_obj, giss_obj) {

                if (err) throw err;

                var giss_data = parseGiss(giss_obj)
                  .map(function(d) {
                    return [+d[0], +d[1]]
                  });

                var marcott_data = d3.dsvFormat(';').parse(marcott_obj)
                  .map(function(r) {
                    return [1950 - +r['Age (yrs BP)'], parseFloat(r['Global (°C)'].replace(',', '.'))]
                  }).filter(function(d) {
                    return isFinite(d[1]) && d[0] < giss_data[0][0];
                  }).reverse()

                // Make sure to convert the baseline to the giss one
                var marcott_baseline = [1961, 1990];
                var delta = d3.mean(giss_data.filter(function(d) {
                  return d[0] >= marcott_baseline[0] &&
                    d[1] <= marcott_baseline[1];
                }), function(d) {
                  return d[1];
                })

                data = marcott_data.map(function(d) {
                  return [d[0], d[1] - delta]
                });
                giss_data.forEach(function(d) {
                  data.push(d);
                })

                var option = initialOption();

                option.title.text = 'Temperature anomalies in the last 11 300 years';
                option.title.subtext = '°C compared to 1951-1980 average';

                option.xAxis.type = 'value';
                option.xAxis.axisLabel = {
                  formatter: function(e) { return e.toString() }
                }
                option.xAxis.min = -9000;
                option.xAxis.max = data[data.length - 1][0]

                option.yAxis.min = -0.7;
                option.yAxis.max = 1.2;

                option.dataZoom = initialDataZoom();
                option.dataZoom[0].startValue = -9000;

                option.grid.bottom = 60;

                option.tooltip.formatter = function(e) {
                  var yValue = Math.round(e[0].data[1] * 100) / 100;
                  var sign = yValue >= 0 ? '+' : '';
                  var xValue = e[0].data[0];
                  var year = xValue < 0 ? xValue + ' BC' : xValue + ' AD';
                  return e[0].marker + ' ' + sign + yValue + ' °C in ' + year;
                }

                option.series = [
                  {
                    name: 'marcott',
                    type: 'line',
                    showSymbol: false,
                    data: data,
                    areaStyle: {
                      normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: -1 * option.yAxis.min / option.yAxis.max - 0.2,
                            color: 'rgb(255, 64, 30)'
                        }, {
                            offset: 1,
                            color: 'rgb(180, 200, 255)'
                        }])
                      }
                    },
                  },
                  {
                    name: 'last',
                    type: 'effectScatter',
                    data: [data[data.length - 1]],
                    symbolSize: 10,
                  }
                ];

                var chart = echarts.init(document.getElementById('temperature_time_series_OLD'))
                chart.setOption(option);
                window.addEventListener('resize', chart.resize);

              });
            })();
          </script>

          <p>
            What is worrying is not so much the change itself, but rather <b>the speed at which this change is taking place</b>.
            Historically, a change of 1&deg;C seems to happen in thousands of years - not decades.
            The Earth is a complex ecosystem, and disturbing it by as little as a couple of degrees in the blink of decades (or even centuries) is a heavy disturbance.
          </p>

          <p>But what's the impact?</p>

        </div>


        <h1>A couple of degrees change has widespread consequences</h1>

        <p class="incomplete">
          x% of earth is water. Temp over the whole surface. Dilatation of the water. Most of heat is absorbed by the sea. More extreme weather. Temperature changes on land will cause pop and animal migrations. Some species can't adapt fast enough.
          2 deg globally -> 4 deg locally potentially
          Introduce climate change. Map of 4 degs.
        </p>

        <p>Climate change seems serious, but what causes it?</p>


        <h1>Climate change is caused by greenhouse gases</h1>
        <p>
          Some gases are transparent to the sun's rays heating the Earth, but are opaque (acting as mirrors) with respect to rays emitted back from the Earth.
          Those gases act as a blanket, trapping heat that is unable to escape, and are called greenhouse gases due to their warming behaviour mimicking a greenhouse.
          By trapping heat inside the atmosphere, it enables our nights to be relatively warm compared to the cold of outer space.
        </p>
        <p>
          One of those greenhouse gases is carbon dioxide (CO<sub>2</sub>).
          By drilling <a href="https://earthobservatory.nasa.gov/Features/Paleoclimatology_IceCores/" target="_blank">ice cores</a> (columns of ice containing small bubbles of old trapped air), we have been able to infer historical CO<sub>2</sub> concentration up to 800 000 years BC.
          This concentration has been relatively stable until the industrial revolution.
          Again, what is worrying is the speed at which the change of concentration is happening. Both the concentration level and the speed of change are unprecendented in the history of measurements:
        </p>

        <div class="graph">
          <div class="chart" id="ghg_time_series"></div>
          <div class="source">
            Source: National Oceanic and Atmospheric Administration (NOAA) <a href="https://www.ncdc.noaa.gov/paleo-search/study/17975" target="_blank">Ice Core records</a> (<a href="https://www1.ncdc.noaa.gov/pub/data/paleo/icecore/antarctica/antarctica2015co2composite.txt" target="_blank">data</a>) before 1959 and <a href="https://www.esrl.noaa.gov/gmd/ccgg/trends/data.html" target="_blank">Mauna Loa records</a> (<a href="ftp://aftp.cmdl.noaa.gov/products/trends/co2/co2_annmean_mlo.txt" target="_blank">data</a>) after 1959.
          </div>
        </div>

        <script>
          (function() {
            var icecore_url = 'data/antarctica2015co2composite.txt';
            var mlo_url = 'data/co2_annmean_mlo.txt';

            d3.queue()
              .defer(d3.text, icecore_url)
              .defer(d3.text, mlo_url)
              .await(function(err, icecore_obj, mlo_obj) {
              if (err) throw err;

              var data = [];
              var split_date = 1959;
              icecore_obj.split('\n')
                .filter(function(d, i) { return i >= 138; })
                .map(function(d) {
                  var r = d.split('\t')
                  return [1950 - +r[0], +r[1]];
                })
                .filter(function(d) { return d[0] < split_date && isFinite(d[1]); })
                .reverse()
                .forEach(function(d) { data.push(d) })
              mlo_obj.split('\n')
                .filter(function(d) { return d[0] != '#'; })
                .map(function(d) {
                  var r = d.split('   ')
                  return [+r[0], +r[1]];
                })
                .filter(function(d) { return d[0] >= split_date; })
                .forEach(function(d) { data.push(d) })

              var option = initialOption();

              option.title.text = 'Atmospheric CO2 concentration in the last 10 000 to 800 000 years';
              option.title.subtext = 'in ppm (particles per million)';

              option.xAxis.type = 'value';
              option.xAxis.axisLabel = {
                formatter: function(e) { return e.toString() }
              }
              option.xAxis.min = -90000;
              option.yAxis.min = 150;
              option.yAxis.max = 420;

              option.dataZoom = initialDataZoom();
              option.dataZoom[0].startValue = -8000;

              option.grid.bottom = 60;

              option.tooltip.formatter = function(e) {
                var yValue = e[0].data[1];
                var xValue = e[0].data[0];
                var year = xValue < 0 ?
                  Math.round(xValue) + ' BC' :
                  Math.round(xValue) + ' AD';
                return e[0].marker + ' ' + yValue + ' ppm in ' + year;
              }

              option.series = [
                {
                  name: '',
                  type: 'line',
                  showSymbol: false,
                  data: data,
                  areaStyle: {
                    normal: {
                      color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                          offset: 0.5,
                          color: 'rgb(255, 64, 30)'
                      }, {
                          offset: 1,
                          color: 'orange'
                      }])
                    }
                  },
                },
                {
                  name: 'last',
                  type: 'effectScatter',
                  data: [data[data.length - 1]],
                  symbolSize: 10,

                }
              ];

              var chart = echarts.init(document.getElementById('ghg_time_series'))
              chart.setOption(option);
              window.addEventListener('resize', chart.resize);

            });
          })();
        </script>

        <p class="incomplete">
          TODO: add time series of historical CH4 + N2O?
          Note co2 is 400 ppm, CH4 is 1.8 ppm, N2O is 0.33
        </p>

        <p>
          By looking at the heating and cooling effect (called <a href="https://en.wikipedia.org/wiki/Radiative_forcing" target="_blank">radiative forcing</a>) of different processes between now and the pre-industrial period (where the greenhouse gas atmospheric levels had not yet increased), it becomes clear that <a href="https://www.bloomberg.com/graphics/2015-whats-warming-the-world/" target="_blank">greenhouse gases are the main driver behind the observed warming</a>:
        </p>

        <div class="graph">
          <div class="chart" id="global_warming_components"></div>
          <div class="source">
            Source: Intergovernmental Panel on Climate Change (IPCC) <a href="http://www.ipcc.ch/pdf/assessment-report/ar5/wg1/WG1AR5_Chapter08_FINAL.pdf" target="_blank">WG1 AR5, Fig. 8.15 p697</a> (<a href="http://www.ipcc.ch/report/ar5/wg1/docs/WG1AR5_AIISM_Datafiles.xlsx" target="_blank">data</a>)
          </div>
        </div>

        <script>
          (function() {
            d3.text('data/IPCC_WG1AR5_All_1_2.csv', function(err, obj) {
              if (err) throw err;

              var raw_data = obj.split('\n')
                .filter(function(_, i) { return i >= 7 && i < 270 })
                //.filter(function(_, i) { return i == 0 || i >= 100 + 1 }) // start 100y after
                .filter(function(d, i) { return i == 0 || d.split(';')[0] == '2011'; })
              var header = raw_data[0].split(';')
                .filter(function(_, j) { return j <= 11 })
              // Sum by column
              var sums = {};
              raw_data.forEach(function(d, i) {
                if (i == 0) { return; } // skip header
                var row = d.split(';')
                header.forEach(function(h, j) {
                  if (j == 0) { return; } // skip year
                  if (sums[h] == undefined) { sums[h] = 0 }
                  sums[h] += +(row[j].replace(',', '.'));
                })
              })

              var data = [
                { name: 'Other man-made changes', value:
                  sums['BC Snow'] +
                  sums['Contrails'] +
                  sums['LUC'] },
                { name: 'Aerosols', value: sums['Aerosol (Total)'] },
                { name: 'Volcano erruptions', value: sums['Volcano'] },
                { name: 'Solar changes', value: sums['Solar'] },
                { name: 'Greenhouse gases', value: 
                  sums['CO2'] +
                  sums['GHG OTher*'] +
                  sums['H2O (Strat)'] +
                  sums['O3 (Strat)'] +
                  sums['O3 (Trop)'] },
              ];

              var cumSum = [0];
              data.forEach(function(_, i) {
                if (i == 0) { return; }
                i = data.length - i - 1; // reverse
                cumSum.push(
                  cumSum[cumSum.length - 1]
                  + (data[i + 1].value > 0 ? data[i + 1].value : 0)
                  - (data[i].value < 0 ? -data[i].value : 0));
              })
              cumSum.push(0); data.unshift({name: 'Net observed warming', value: '-'})
              cumSum = cumSum.reverse();

              var option = initialOption();

              option.grid.left = 150;

              option.xAxis.type = 'value'
              option.yAxis.data = data.map(function(d) { return d.name })

              option.title.text = 'Relative changes in radiative forcing in 2011 compared to 1750';
              option.title.subtext = 'in W/m²';

              option.tooltip.formatter = function(e) {
                var e0 = e
                  .filter(function(d) { return d.seriesName != 'offset' })
                  .filter(function(d) { return d.data != '-'; })[0];
                if (!e0.data) { return; }
                var value = e0.data;
                var name = e0.name;
                var isWarming = e0.seriesName == 'pos';
                return (isWarming ? 'Heating' : 'Cooling') +
                  ' with ' + (isWarming ? '' : '-') + value + ' W/m<sup>2</sup>';
              }

              option.series = [
                // transparent bars the add the offsets
                {
                  name: 'offset',
                  type: 'bar',
                  stack: 'common',
                  data: cumSum,
                  itemStyle: {
                    normal: {
                      barBorderColor: 'rgba(0,0,0,0)',
                      color: 'rgba(0,0,0,0)'
                    },
                    emphasis: {
                      barBorderColor: 'rgba(0,0,0,0)',
                      color: 'rgba(0,0,0,0)'
                    }
                  },
                },
                {
                  name: 'pos',
                  type: 'bar',
                  stack: 'common',
                  data: data
                    .map(function(d) { return d.value < 0 ? '-' : d.value }),
                  label: {
                    normal: {
                      show: true,
                      position: 'right'
                    }
                  }
                },
                {
                  name: 'neg',
                  type: 'bar',
                  stack: 'common',
                  barGap: 0,
                  data: data
                    .map(function(d) { return d.value >= 0 ? '-' : -d.value }),
                  label: {
                    normal: {
                      show: true,
                      position: 'left',
                      formatter: '-{c}'
                    }
                  }
                },
                {
                  name: 'net',
                  type: 'bar',
                  stack: 'common',
                  barGap: 0,
                  data: data.map(function(_, i) {
                    return i == 0 ? cumSum[1] : '-'
                  }),
                  label: {
                    normal: {
                      show: true,
                      position: 'right'
                    }
                  }
                },
              ];

              var chart = echarts.init(document.getElementById('global_warming_components'))
              chart.setOption(option);
              window.addEventListener('resize', chart.resize);
            });
          })()
        </script>

        <p>
          It is important to note that greenhouse gases in the atmosphere will keep warming the Earth many years after they have been emitted.
          As an example, up to 40% of the CO<sub>2</sub> emitted is still in the atmosphere 1 000 years later, thus still causing warming (see <a href="http://www.ipcc.ch/pdf/assessment-report/ar5/wg1/WG1AR5_Chapter12_FINAL.pdf" target="_blank">IPCC WGI AR5</a>, FAQ 12.3 p1106 for a discussion of what would happen if we stopped emissions right away).
          This is in stark contrast with the immediate and ephemeral cooling effect of volcanos, where particles ejected during an eruption temporarily shield the Earth from incoming radiation.
        </p>

        <p>
          But where do all of those greenhouse gases come from?
        </p>


        <h1>Greenhouse gases are the result of human industrialisation</h1>

        <p>
          The invention of an efficient steam engine by James Watt in 1784 meant humans were able to effectively convert fossil fuels into energy, a process that releases carbon dioxide (CO<sub>2</sub>) into the atmosphere.

          In particular, the discovery of oil gave access to a powerful and portable source of energy: 
          The energy released when burning 1L of oil (10 kWh) is equivalent to 25 professional athletes cycling for one hour (at 400W each).
          1L of oil weighs under 1kg and costs 100 to 1000 times less than the equivalent human labor.
        </p>
        <p>
          Fossil fuels propelled humanity into an industrialised age where the use of machines enabled to dedicate most of the working population to the service sector instead of agriculture.
          Currently, each human on the planet consumes roughly <a href="http://data.worldbank.org/indicator/EG.USE.PCAP.KG.OE" target="_blank">60 kWh</a> of energy per day, the equivalent of dedicating 15 professional cyclists for 10 hours a day, to each person. To get an even more concrete idea, take a look at <a href="https://www.youtube.com/watch?v=S4O5voOCqAQ" target="_blank">this video</a> to see <a href="https://en.wikipedia.org/wiki/Robert_F%C3%B6rstemann">Robert Förstemann</a>, professional track cyclist and sprint specialist, struggle to power his toaster.
        </p>

        <div class="graph">
          <div class="chart" id="tpes_historical"></div>
          <div class="source">
            Source: <a href="https://ourworldindata.org/energy-production-and-changing-energy-sources/#global-total-energy-production-long-run-view-by-source">Our World In Data</a> (<a href="https://ourworldindata.org/grapher/global-primary-energy-consumption-1800-2015.csv">data</a>)
          </div>
        </div>

        <script>
          (function() {
            var url = 'data/global-primary-energy-consumption-1800-2015.csv';

            d3.csv(url, function(err, obj) {
              if (err) throw err;

              // Add an aggreate field that sums biofuels
              obj.forEach(function(d) {
                d['Biofuels'] = 
                  +d['Modern biofuels'] + +d['Traditional biofuels']
              })
              var mapping = {
                'Coal': 'coal',
                'Crude oil': 'oil',
                'Natural gas': 'gas',
                'Hydroelectricity': 'hydro',
                'Nuclear electricity': 'nuclear',
                'Wind and solar': 'wind & solar',
                // 'Modern biofuels': 'biomass',
                // 'Traditional biofuels': 'biomass'
                'Biofuels': 'biomass'
              }
              var colors = {
                'wind & solar': '#74cdb9',
                // 'solar': '#f27406',
                'hydro': '#2772b2',
                'biomass': '#166a57',
                'nuclear': '#AEB800',
                'gas': '#bb2f51',
                'coal': '#ac8c35',
                'oil': '#867d66',
              };
              var byFuel = {};
              var xData = [];
              obj.forEach(function(d) {
                xData.push(d.Year)
                Object.keys(d).forEach(function(k) {
                  if (!mapping[k]) { return; }
                  var kk = mapping[k];
                  if (!byFuel[kk]) { byFuel[kk] = []; }
                  byFuel[kk].push(+d[k])
                })
              })

              data = [
                {name: 'biomass', values: byFuel['biomass']},
                {name: 'coal', values: byFuel['coal']},
                {name: 'oil', values: byFuel['oil']},
                {name: 'gas', values: byFuel['gas']},
                {name: 'hydro', values: byFuel['hydro']},
                {name: 'nuclear', values: byFuel['nuclear']},
                {name: 'wind & solar', values: byFuel['wind & solar']},
              ]

              var option = initialOption();

              option.title.text = 'World primary energy consumption since 1800';
              option.title.subtext = 'in EJ (exajoules)';

              option.xAxis.data = xData;

              option.tooltip.formatter = function(e) {
                e.reverse();
                var sum = d3.sum(e, function(d) { return d.data; })
                var html = e.map(function(d) {
                  return d.marker + ' ' + d.seriesName + ': ' + d.data + ' (' + Math.round(d.data * 100 / sum) + ' %)';
                }).join('<br />')
                html += '<br />--<br />'
                var ff = d3.sum(e.filter(function(d) {
                  return ['gas', 'oil', 'coal'].indexOf(d.seriesName) != -1
                }), function(d) { return d.data });
                html += 'Fossil fuels: ' + (Math.round(ff * 100) / 100) + ' (' + Math.round(ff * 100 / sum) + ' %)';
                return html;
              }

              option.legend = {
                data: data.map(function(d) { return d.name; }).reverse(),
                orient: 'vertical',
                x: 'right',
                y: 'center'
              }
              option.grid.right = 120;

              option.yAxis.max = 550;

              option.color = data.map(function(d) { return colors[d.name] })
              option.series = data.map(function(d) {
                return {
                  name: d.name,
                  type: 'line',
                  symbol: 'none',
                  stack: 'common',
                  data: d.values,
                  areaStyle: { normal: { } },
                  lineStyle: { normal: { } }
                }
              })

              var chart = echarts.init(document.getElementById('tpes_historical'))
              chart.setOption(option);
              window.addEventListener('resize', chart.resize);

            });
          })();
        </script>

        <p>
          The world's energy historically comes from burning trees for heat and for forging tools. Later, with the invention of the steam engine, an additional energy source was available for doing mechanical work:  lifting heavy objects and powering the first trains.
          Oil, being very light compared to coal, was a perfect portable energy source, and hence became used in cars and planes.
          Note that there has been very little substitution between the different energy fuels. The discovery of a new fuel (be it coal, oil or gas) has never replaced the fuel used previously, but instead has fueled additional growth.
          Also note that even though renewable energy is a decent part of newly installed energy production facilities, it is still a tiny percent of global energy supply.
        </p>

        <!--<p class ="incomplete">
          [SKIP?]
          The effect of greenhouse gases has been identified since the beginning of the century.
          <a href="https://paperspast.natlib.govt.nz/newspapers/rodney-and-otamatea-times-waitemata-and-kaipara-gazette/1912/8/14/7" target="_blank">This article</a> from 1912 is one of the earliest accounts which identifies the risk of burning fossil fuel, releasing CO<sub>2</sub> into the atmosphere, thus causing an increase in temperature.
        </p> -->

        <p>
          The proliferation of machines burning fossil fuels since the industrial revolution explains the drastic increase in measured CO<sub>2</sub> concentrations.
          That it happening as soon as we drive a car, take a plane or use electricity.
          It also indirectly happens when we consume objects assembled from parts transported from afar, or requiring heavy energy usage to manufacture.
          However, they are not the only source of greenhouse gases:
        </p>

        <div class="graph">
          <div class="chart" id="ghg_origin"></div>
          <div class="source">
            Source: <a href="https://www.accenture.com/t00010101T000000__w__/br-pt/_acnmedia/PDF-11/Accenture-Strategy-Energy-Perspectives-Consequences-COP21.pdf">Accenture Energy Perspectives - Consequences of COP21 for the Oil and Gas Industry</a>, Fig. 12 p14.
          </div>
        </div>

        <script>
          (function() {

            var data = [
              { name: 'Fossil fuels', value: 48.9 - 12.2 - 4.4 , color: '#c23531'},
              { name: 'Agriculture and\ndeforestation', value: 12.2, color: '#749f83' },
              { name: 'Industrial processes', value: 4.4, color: '#546570' },
            ].reverse();

            // Percentage
            var total = d3.sum(data, function(d) { return d.value; })
            data.forEach(function(d) {
              d.value /= total / 100;
            })

            var option = initialOption();

            option.grid.left = 150;

            option.xAxis.type = 'value'
            option.xAxis.axisLabel = {formatter: '{value}%'};
            option.grid.bottom = 50;

            option.yAxis.data = data.map(function(d) { return d.name })

            option.title.text = 'Man-made greehouse gas emissions in 2010';
            option.title.subtext = '% of total';

            option.tooltip.trigger = 'none';

            option.series = [
              {
                type: 'bar',
                data: echarts.util.map(data, function (d) {
                  return {
                    value: d.value,
                    itemStyle: {
                      normal: {
                        color: d.color
                      }
                    }
                  }
                }),
                label: {
                  normal: {
                    show: true,
                    position: 'right',
                    formatter: function(e) {
                      return Math.round(e.data.value) + '%';
                    }
                  }
                }
              },
            ];

            var chart = echarts.init(
              document.getElementById('ghg_origin'));
            chart.setOption(option);
            window.addEventListener('resize', chart.resize);
          })();
        </script>

        <p class="incomplete">
          A substancial amount comes from [explain livestock, CH4, N2O, albedo change, forest fires]. Note that the use of fossil fuels for operating machines, or the use of electricity, is not counted here.
        </p>
        <p class="incomplete">
          Finally, the chemical reaction required for the production cement [and steel?] results in a release of CO<sub>2</sub>.
          + Landfills.
          Again, note that the use of fossil fuels for operating machines, or the use of electricity, is not counted here.
        </p>

        <p class="incomplete">
          Our increadible technological advances and increased living standards have been enabled by the discovery of fossil fuels [can we generalise to !FF?], so how do we get rid of them?
        </p>


        <h1>Objective: 2 tons CO<sub>2</sub>eq per human per year by 2050</h1>

        <p>
          All <a href="https://en.wikipedia.org/wiki/Greenhouse_gas" target="_blank">greenhouse gases</a> differ by how much radiation they trap per unit area and unit time, and by how long they stay in the atmosphere.
          To be able to compare them, the so-called <a href="https://en.wikipedia.org/wiki/Global_warming_potential" target="_blank">global warming potential</a> is used to convert the mass of any greenhouse gases into the mass of CO<sub>2</sub> that would yield an equivalent warming over 100 years.
          That unit is called <b>CO<sub>2</sub> equivalent</b>, abbreviated CO<sub>2</sub>eq.
          For example, 1g N<sub>2</sub>O (nitrous oxide, used in fertilisers) corresponds to 300gCO<sub>2</sub>eq.
        </p>

        <p class="incomplete">
          <!-- Start with projection, aim 2050, and look at CO2. Divide by pop. -> 2t / pers.
          http://tntcat.iiasa.ac.at:8787/RcpDb/dsd?Action=htmlpage&page=compare
          http://uneplive.unep.org/media/docs/theme/13/EGR_2015_Technical_Report_final_version.pdf
          IPCC graph -->
          The Paris agreement [ref needed] has set the world the 2&deg;C objective at horizon 2100.
          This gives us a carbon budget [ref], which is x% of proven reserves.
          [dangerous to let the free market...]
        </p>

        <div class="graph">
          <div class="chart" id="carbon_intensity_world"></div>
          <div class="source">
            Source: <a href="http://www.wri.org/resources/data-sets/cait-historical-emissions-data-countries-us-states-unfccc" target="_blank">World Resource Institute</a> (<a href="http://cait.wri.org/historical/export/Country%20GHG%20Emissions/WorldResourcesInstituteCAIT.csv?&keyField=Country&unit=MtCO2e&unit=MtCO%E2%82%82e%E2%80%8D&unit=People&indicator[]=Total%20GHG%20Emissions%20Excluding%20Land-Use%20Change%20and%20Forestry&indicator[]=Total%20GHG%20Emissions%20Including%20Land-Use%20Change%20and%20Forestry&indicator[]=Population&year[]=2013&sortIdx=1&sortDir=desc&chartType=geo" target="_blank">data</a>)
          </div>
        </div>

        <script>
          (function() {
            d3.text('data/WorldResourcesInstituteCAIT.csv', function(err, obj) {
              if (err) throw err;

              var year = 2013;

              var data = obj.split('\n')
                .filter(function(d, i) { return i > 0; })
                .map(function(d) { 
                  return d.split(',"').map(function(s) {
                    return s.replace('"', '').replace('"', '')
                  });
                })
                .filter(function(d) {
                  return [
                    'World',
                    'European Union (28)',
                    'European Union (15)'
                  ].indexOf(d[0]) == -1
                  && d[1] == year.toString()
                  && d[4] != '';
                })
                .map(function(d) {
                  return {
                    name: d[0],
                    intensity: +d[2] * 1e6 / +d[4], // excluding land use + forestry
                    population: +d[4] / 1e9 // in billions
                  }
                }).sort(function(a, b) {
                  return d3.descending(a.intensity, b.intensity);
                });

              // Convert to percentages
              var totalPopulation = d3.sum(data, function(d) { return d.population; })
              data.forEach(function(d) {
                d.population /= totalPopulation / 100;
              })

              var totalEmissions = d3.sum(data, function(d) { return d.population * d.intensity; })

              // [from, to, height, name]
              var chartData = [[0, data[0].population, data[0].intensity, data[0].name]]
              data.forEach(function(d, i) {
                if (i == 0) { return; }
                var from = chartData[chartData.length - 1][1];
                chartData.push([
                  from,
                  from + d.population,
                  d.intensity,
                  d.name
                ])
              })
              
              // chartData = echarts.util.map(chartData, function (item, index) {
              //     return {
              //         value: item,
              //         itemStyle: {
              //             normal: {
              //                 // color: 'darkred',
              //                 borderColor: 'black',
              //                 borderWidth: 1
              //             }
              //         }
              //     };
              // });

              function renderItem(params, api) {
                var yValue = api.value(2);
                var start = api.coord([api.value(0), yValue]);

                var size = api.size([api.value(1) - api.value(0), yValue]);
                var style = api.style();

                return {
                  type: 'rect',
                  shape: echarts.graphic.clipRectByRect({
                    x: start[0],
                    y: start[1],
                    width: size[0],
                    height: size[1]
                }, {
                    x: params.coordSys.x,
                    y: params.coordSys.y,
                    width: params.coordSys.width,
                    height: params.coordSys.height
                }),
                  style: style
                };
              }

              var option = initialOption();

              option.title.text = 'World emissions by country in ' + year;
              option.title.subtext = 'in tCO₂eq per person per year';

              option.xAxis.name = 'of world population';
              option.xAxis.nameLocation = 'middle';
              option.xAxis.position = 'bottom';
              option.xAxis.nameGap = 50;
              option.xAxis.axisLabel = {formatter: '{value}%', margin: 30};
              option.grid.bottom = 80;

              option.dataZoom = initialDataZoom();
              option.dataZoom[0].bottom = option.grid.bottom - 20;
              option.dataZoom[0].endValue = 6;
              option.dataZoom[0].labelFormatter = '';
              option.dataZoom[0].filterMode = 'weakFilter'; // to enable drawing

              option.tooltip.trigger = 'item';
              option.tooltip.formatter = function(e) {
                if (e.componentType != 'series') { return; }
                var d = data[e.dataIndex];
                var intensity = Math.round(d.intensity);
                var emissionPercent = 
                  Math.round(d.population * d.intensity / totalEmissions * 10000) / 100;
                return d.name + ': ' + intensity + ' tons / person / year' + '<br />' + emissionPercent + '% of total emissions';
              }

              option.grid.right = 100;// for mark label

              option.series =  [
                {
                  type: 'custom',
                  renderItem: renderItem,
                  // label: {
                  //   normal: {
                  //     show: true,
                  //     position: 'top',
                  //     textStyle: {
                  //       color: 'black'
                  //     }
                  //   }
                  // },
                  dimensions: ['from', 'to', 'intensity'],
                  encode: {
                    x: [0, 1],
                    y: 2,
                    tooltip: [0, 1, 2],
                    label: 3,
                    itemName: 3
                  },
                  data: chartData,
                  itemStyle: {
                    normal: {
                      color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                          offset: 0,
                          color: 'rgb(255, 64, 30)'
                      }, {
                          offset: 1,
                          color: 'orange'
                      }]),
                      borderColor: 'black',
                      borderWidth: 0.5
                    },
                  },
                  markLine: {
                    symbol: 'none',
                    data: [{ yAxis: 2 }],
                    label: {
                      normal: {
                        formatter: 'Paris objective',
                        position: 'end'
                      },
                    },
                    lineStyle: {
                      normal: {
                        color: 'black'
                      }
                    }
                  }
                }
              ]

              var chart = echarts.init(document.getElementById('carbon_intensity_world'))
              chart.setOption(option);
              window.addEventListener('resize', chart.resize);
            });
          })()
        </script>

        <p class="incomplete">
          TODO: Would be nice to be able to find one's country. Maybe using a map? Datazoom should be controlled though. Maybe showing a map
        </p>

        <div class="graph">
          <div class="chart" id="ghg_intensity_electricity"></div>
          <div class="source">
            Source: Live cycle emissions from <a href="https://github.com/tmrowco/electricitymap#carbon-intensity-calcuation-and-data-source" target="_blank">Electricity Map</a> (<a href="https://github.com/tmrowco/electricitymap/blob/master/config/co2eq_parameters.js" target="_blank">data</a>)
          </div>
        </div>

        <script>
          (function() {

            var modeColor = {
              'wind': '#74cdb9',
              'solar': '#f27406',
              'hydro': '#2772b2',
              'biomass': '#166a57',
              'geothermal': 'yellow',
              'nuclear': '#AEB800',
              'gas': '#bb2f51',
              'coal': '#ac8c35',
              'oil': '#867d66',
            };

            var data = [
              { name: 'wind', intensity: 12 },
              { name: 'wind + storage', intensity: '-' },
              { name: 'solar', intensity: 45 },
              { name: 'solar + storage', intensity: '-' },
              { name: 'hydro', intensity: 24 },
              { name: 'biomass', intensity: 230 },
              { name: 'geothermal', intensity: 24 },
              { name: 'nuclear', intensity: 12 },
              { name: 'gas', intensity: 490 },
              { name: 'coal', intensity: 820 },
              { name: 'oil', intensity: 650 },
            ].reverse();

            var option = initialOption();

            option.xAxis.name = 'Greenhouse gas intensity in gCO₂eq/kWh';
            option.xAxis.nameLocation = 'middle';
            option.xAxis.nameGap = 30;
            option.grid.bottom = 50;

            option.xAxis.type = 'value'
            option.yAxis.data = data.map(function(d) { return d.name })

            option.title.text = 'Greenhouse gas intensity of electricity production modes';
            option.title.subtext = 'in gCO₂eq/kWh';

            option.grid.left = 90;

            option.tooltip.trigger = 'none';

            option.series = [
              {
                type: 'bar',
                data: echarts.util.map(data, function (d) {
                  return {
                    value: d.intensity,
                    itemStyle: {
                      normal: {
                        color: modeColor[d.name]
                      }
                    }
                  }
                }),
                label: {
                  normal: {
                    show: true,
                    position: 'right'
                  }
                }
              },
            ];

            var chart = echarts.init(
              document.getElementById('ghg_intensity_electricity'));
            chart.setOption(option);
            window.addEventListener('resize', chart.resize);
          })();
        </script>

        <div class="graph incomplete">
          <div class="chart" id="ghg_intensity_transportation"></div>
          <div class="source">
            Source: 
          </div>
        </div>

        <script>
          (function() {

            var modeColor = {
              // 'wind': '#74cdb9',
              // 'solar': '#f27406',
              // 'hydro': '#2772b2',
              // 'biomass': '#166a57',
              // 'geothermal': 'yellow',
              // 'nuclear': '#AEB800',
              // 'gas': '#bb2f51',
              // 'coal': '#ac8c35',
              // 'oil': '#867d66',
            };

            var data = [
              { name: 'car', intensity: Math.random() },
              { name: 'electric car (low carbon elec.)', intensity: Math.random() },
              { name: 'electric car (high carbon elec.)', intensity: Math.random() },
              { name: 'airplane', intensity: Math.random() },
              { name: 'electric train (low carbon elec.)', intensity: Math.random() },
              { name: 'electric train (high carbon elec.)', intensity: Math.random() },
              { name: 'diesel train', intensity: Math.random() },
              { name: 'cycling', intensity: Math.random() },
              { name: 'walking', intensity: Math.random() },
            ].reverse();

            var option = initialOption();

            option.grid.left = 170;

            option.xAxis.name = 'Greenhouse gas intensity in gCO₂eq / person / km';
            option.xAxis.nameLocation = 'middle';
            option.xAxis.nameGap = 30;
            option.grid.bottom = 50;

            option.xAxis.type = 'value'
            option.yAxis.data = data.map(function(d) { return d.name })

            option.title.text = 'Greenhouse gas intensity of transportation modes';
            option.title.subtext = 'in gCO₂eq / person / km';

            option.tooltip.trigger = 'none';

            option.series = [
              {
                type: 'bar',
                data: echarts.util.map(data, function (d) {
                  return {
                    value: d.intensity,
                    itemStyle: {
                      normal: {
                        color: modeColor[d.name]
                      }
                    }
                  }
                }),
                label: {
                  normal: {
                    show: true,
                    position: 'right'
                  }
                }
              },
            ];

            var chart = echarts.init(
              document.getElementById('ghg_intensity_transportation'));
            chart.setOption(option);
            window.addEventListener('resize', chart.resize);
          })();
        </script>

        <p class="incomplete">

      We must redouble our R&D effort, but not rely on them. Given the time constraints we are under, it is unlikely a new clean energy source will surface.

      A note on emissions -> concentrations -> temperature

      Aujourd’hui encore, les kWh domptent les degrés. Si la pluie fait défaut, nous pouvons faire venir de l’eau ou de la nourriture d’ailleurs ; si des logements, des usines ou des ponts sont détruits, nous pouvons les reconstruire rapidement ; si des espèces disparaissent, les produits de notre industrie nous fournissent les mêmes services… et tout cela grâce à l’énergie, qui met en face de toute adversité des machines bien plus puissantes que nos muscles.
        </p>

      </div>


    </section>

    <footer class="alternate">
      <div id="footer-content">
        <p>
          &copy; 2017 Tomorrow | <a href="mailto:hello@tmrow.co"><i class="fa fa-envelope" aria-hidden="true"></i>&nbsp;email</a> | 
          <a href="https://facebook.com/tmrowco/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i>&nbsp;facebook</a> |
          <a href="https://twitter.com/tmrowco" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i>&nbsp;twitter</a> |
          <a href="https://medium.com/tmrow" target="_blank"><i class="fa fa-medium" aria-hidden="true"></i>&nbsp;medium</a>
        </p>
        <p>
          🇩🇰  Copenhagen<br />
          🇫🇷  Paris
        </p>
      </div>
    </footer>

  </body>
</html>
